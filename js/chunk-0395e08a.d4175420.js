(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0395e08a"],{1943:function(e,t,r){"use strict";r("4314")},"3ee3":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("loader",{attrs:{object:"#ffffff",color1:"#ffffff",color2:"#ffffff",time:"100",size:"5",speed:"2",bg:"#5e151d",objectbg:"#999793",opacity:"100",name:e.selected,disableScrolling:"false"}}),t("div",{staticClass:"container",staticStyle:{"min-height":"150px"}},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-11"},[t("h1",[t("b-icon",{attrs:{icon:"card-checklist"}}),e._v(" Cursos de "+e._s(e.desserts.name)+" ")],1)]),t("div",{staticClass:"col-1"},[t("h1",[t("b-icon",{attrs:{type:"button",icon:"arrow-return-left"},on:{click:e.toPrograms}})],1)])])]),t("div",{staticClass:"card-body"},[t("div",{staticClass:"container col-12"},[t("b-tabs",{staticClass:"card",attrs:{card:"",fill:""}},e._l(e.desserts.list,(function(r,s){return t("b-tab",{key:s,attrs:{title:r.name}},[t("b-table",{attrs:{striped:"",responsive:"",stacked:"lg",items:r.list,fields:e.fields},scopedSlots:e._u([{key:"cell(name)",fn:function(r){return[e._v(" "+e._s(r.item.name+" (")),t("b",[e._v(e._s(r.item.capacity))]),e._v(e._s(")")+" ")]}},{key:"cell(module)",fn:function(t){return[e._v(" "+e._s("Módulo "+t.item.numberModulus)+" ")]}},{key:"cell(horary)",fn:function(r){return[t("b-icon-clock",{staticClass:"mx-1",attrs:{type:"button",size:"sm"},on:{click:function(t){return e.toHorary(r.item)}}})]}},{key:"cell(people)",fn:function(r){return[t("b-icon-people",{staticClass:"mx-1",attrs:{type:"button",size:"sm"},on:{click:function(t){return e.toPeople(r.item)}}})]}},{key:"cell(criteria)",fn:function(r){return[t("b-icon-check-square",{staticClass:"mx-1",attrs:{type:"button",size:"sm"},on:{click:function(t){return e.toCriteria(r.item)}}})]}},{key:"cell(state)",fn:function(r){return[t("b-badge",{attrs:{pill:"",variant:e.returnColor(r.item.state)}},[e._v(e._s(e.returnData(r.item.state)))])]}},{key:"cell(actions)",fn:function(r){return[t("b-icon-trash",{staticClass:"mx-1",attrs:{type:"button",size:"sm"},on:{click:function(t){return e.modalDelete(r.item)}}})]}},{key:"cell(url)",fn:function(s){return[null!=s.item.urlGrades?t("div",[t("b-link",{attrs:{target:"_blank"},on:{click:function(t){return e.downloadDocument(r.name,s.item.name,s.item.urlGrades)}}},[t("b-icon-cloud-download")],1)],1):t("div",[t("em",[e._v("Vacío")])])]}}],null,!0)})],1)})),1)],1)])])]),t("div",[t("b-modal",{attrs:{centered:"",title:"Mensaje"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[t("div",{staticClass:"w-100"},[t("button",{staticClass:"btn form-control my-2",staticStyle:{"background-color":"#1d425e",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(t){return e.deleteItem(e.dataDelete)}}},[e._v(" Aceptar ")]),t("button",{staticClass:"btn form-control",staticStyle:{"background-color":"rgb(119, 35, 45)",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(t){return e.exitDelete()}}},[e._v(" Cancelar ")])])]},proxy:!0}]),model:{value:e.showDelete,callback:function(t){e.showDelete=t},expression:"showDelete"}},[t("b-container",{attrs:{fluid:""}},[t("h5",{staticClass:"text-center"},[e._v(" ¿Seguro que desea eliminar a "),t("b",[e._v(e._s(e.data.description))]),e._v("? ")])])],1)],1)],1)},o=[],a=(r("5494"),r("14d9"),r("aedf")),i=(r("31dc"),{props:{id:{type:String,default:null},idPro:{type:String,default:null}},data:()=>({selected:"",perPage:10,currentPage:1,name:"",showDelete:!1,data:{id:-1,index:"",description:"",dateOpening:"",dateClosing:"",state:""},fields:[{key:"name",label:"Nombre (Capacidad)"},{key:"module",label:"Agrupación"},{key:"horary",label:"Horario"},{key:"people",label:"Personas"},{key:"url",label:"Notas"}],desserts:{}}),created(){this.initialize()},computed:{rows(e){return e.length},items(e){return this.currentPage=1,this.keyword?e.filter(e=>e.identifier.toLowerCase().includes(this.keyword.toLowerCase())):e}},methods:{downloadDocument(e,t,r){this.selected="circular";const s=a["a"].storage().ref("EvaluationDocuments/"+r);s.getDownloadURL().then(r=>{console.log(r);const s=new XMLHttpRequest;s.responseType="blob",s.onload=function(){const r=s.response,o=document.createElement("a");o.href=URL.createObjectURL(r),o.download="Documento_Notas - "+e+" - "+t,o.click(),URL.revokeObjectURL(o.href)},s.open("GET",r),s.send(),this.selected=""}).catch(e=>{switch(this.selected="",e.code){case"storage/object-not-found":break;case"storage/unauthorized":break;case"storage/canceled":break;case"storage/unknown":break;default:break}})},toHorary(e){this.$router.push("/course/"+e.id+"/horary")},toPeople(e){this.$router.push("/course/"+e.id+"/enrolled")},toCriteria(e){this.$router.push("/course/"+e.id+"/criteria")},modalDelete(e){this.showDelete=!0,this.dataDelete=e,this.data.description=e.description},exitDelete(){this.showDelete=!1,this.data.description=""},toPrograms(){this.$router.go(-1)},returnData(e){return"A"===e?"Activo":"I"===e?"Inactivo":void 0},returnColor(e){return"A"===e?"success":"I"===e?"danger":void 0},async initialize(){this.selected="circular",await this.$axios.get("/academic/"+this.id+"/"+this.idPro+"/courses",{headers:{Authorization:"Bearer "+localStorage.token}}).then(e=>{this.desserts=e.data,this.selected=""}).catch(e=>{this.selected="",this.$errorQuery(e)})},async deleteItem(e){if(this.showDelete=!1,""!=e)try{await this.$axios.get("/academic/"+this.id+"/program-delete?programId="+e.id,{headers:{Authorization:"Bearer "+localStorage.token}}).then(e=>{this.$message.success(e.data.content),this.initialize()})}catch(t){this.$message.error("Error!"),console.log(t)}}}}),n=i,c=(r("1943"),r("7442"),r("2877")),l=Object(c["a"])(n,s,o,!1,null,null,null);t["default"]=l.exports},4314:function(e,t,r){},"488b":function(e,t,r){},5494:function(e,t,r){"use strict";var s=r("83ab"),o=r("e330"),a=r("edd0"),i=URLSearchParams.prototype,n=o(i.forEach);s&&!("size"in i)&&a(i,"size",{get:function(){var e=0;return n(this,(function(){e++})),e},configurable:!0,enumerable:!0})},7442:function(e,t,r){"use strict";r("488b")},edd0:function(e,t,r){var s=r("13d2"),o=r("9bf2");e.exports=function(e,t,r){return r.get&&s(r.get,t,{getter:!0}),r.set&&s(r.set,t,{setter:!0}),o.f(e,t,r)}}}]);
//# sourceMappingURL=chunk-0395e08a.d4175420.js.map