(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3df6bda8"],{2113:function(e,t,r){},"4cda":function(e,t,r){"use strict";r("a5af")},a307:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[t("loader",{attrs:{object:"#ffffff",color1:"#ffffff",color2:"#ffffff",time:"100",size:"5",speed:"2",bg:"#5e151d",objectbg:"#999793",opacity:"100",name:e.selected,disableScrolling:"false"}}),t("div",{staticClass:"container",staticStyle:{"min-height":"150px"}},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[t("h1",[t("b-icon",{attrs:{icon:"arrow-down-up"}}),e._v(" Mis trámites")],1)]),t("div",{staticClass:"card-body"},[t("div",{staticClass:"container col-12"},[t("div",[t("b-row",[t("b-col"),t("b-col",{staticClass:"mb-3"},[t("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0"},[t("b-input-group-prepend",{attrs:{"is-text":""}},[t("b-icon",{attrs:{icon:"search"}})],1),t("b-form-input",{attrs:{placeholder:"Buscar",type:"text"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1)],1)],1),t("b-table",{attrs:{striped:"",responsive:"",stacked:"lg",items:e.items,fields:e.fields,"per-page":e.perPage,"current-page":e.currentPage,keyword:e.keyword},scopedSlots:e._u([{key:"cell(date)",fn:function(r){return[t("p",{domProps:{textContent:e._s(e.fecha(r.item.date))}})]}},{key:"cell(checking)",fn:function(r){return[t("b-badge",{attrs:{pill:"",variant:e.returnColor(r.item.checking)}},[e._v(e._s(e.returnData(r.item.checking)))])]}},{key:"cell(actions)",fn:function(e){return[t("ProcedureView",{attrs:{id:e.item.id}})]}}])}),t("b-pagination",{directives:[{name:"show",rawName:"v-show",value:e.rows>e.perPage,expression:"rows > perPage"}],staticStyle:{display:"flex","justify-content":"center"},attrs:{pills:"","total-rows":e.rows,"per-page":e.perPage,"aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])])])])],1)},a=[],i=(r("14d9"),function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"ProcedureView"}},[t("b-icon-eye",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.left",value:"Ver trámite",expression:"'Ver trámite'",modifiers:{hover:!0,left:!0}}],attrs:{type:"button","font-scale":"1.2"},on:{click:e.viewItem}}),t("div",[t("b-modal",{attrs:{scrollable:"",centered:"",title:"Información de trámite"},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[t("div",{staticClass:"w-100"},[t("button",{staticClass:"btn form-control my-2",staticStyle:{"background-color":"#1d425e",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(t){return e.exit()}}},[e._v(" Aceptar ")])])]},proxy:!0}]),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[t("b-container",{attrs:{fluid:""}},[0!=e.desserts.observes.length?t("div",[t("b-alert",{attrs:{show:"",variant:"danger"}},[t("h5",{staticClass:"alert-heading"},[e._v("Observación")]),e._l(e.desserts.observes,(function(r,s){return t("label",{key:s},[t("b",[e._v("* "+e._s(r.content))])])}))],2)],1):e._e(),t("div",[0!=e.desserts.states.length?t("div",[t("b-alert",{attrs:{show:"",variant:e.returnState(e.desserts.checking)}},[t("h5",{staticClass:"alert-heading"},[e._v("Estados")]),0==e.desserts.checking?t("div",[t("b-badge",{staticClass:"ticket-role",attrs:{variant:""}},[e._v(" Pendiente ")])],1):e._e(),e._l(e.desserts.states,(function(r,s){return t("b-badge",{key:s,staticClass:"ticket-role",attrs:{variant:e.returnColor(r.color)}},[e._v(" "+e._s(r.name)+" ")])}))],2)],1):e._e(),0!=e.desserts.data.length?t("div",[t("b-alert",{attrs:{show:"",variant:e.returnState(e.desserts.checking)}},[t("h5",{staticClass:"alert-heading"},[e._v("Datos")]),e._l(e.desserts.data,(function(r,s){return t("div",{key:s},["#"==r.type&&null!=r.value?t("div",[t("label",[t("b",[e._v(e._s(r.name)+": "),t("a",{attrs:{href:e.$urlFirebase+r.value+"?alt=media",target:"_blank"}},[t("b-icon",{attrs:{type:"button",icon:"link45deg"}})],1)])])]):t("label",[t("b",[e._v(e._s(r.name)+":")]),e._v(" "+e._s(r.value))])])}))],2)],1):e._e()])])],1)],1)],1)}),n=[],o={name:"ProcedureView",props:{id:{type:Number,default:null}},data(){return{show:!1,desserts:{data:[],observes:[],states:[]}}},methods:{returnState(e){return e?"success":"secondary"},returnColor(e){switch(e){case"green":return"success";case"red":return"danger";case"blue":return"primary";default:return""}},exit(){this.show=!1},async viewItem(){this.show=!0,await this.$axios.get("/my-procedures/view?id="+this.id,{headers:{Authorization:"Bearer "+localStorage.token}}).then(e=>{this.desserts=e.data}).catch(e=>{this.$errorQuery(e)})}}},c=o,l=(r("c394"),r("2877")),d=Object(l["a"])(c,i,n,!1,null,null,null),u=d.exports,h={components:{ProcedureView:u},data:()=>({selected:"",keyword:"",perPage:10,currentPage:1,fields:[{key:"name",label:"Nombre"},{key:"date",label:"Fecha y hora"},{key:"checking",label:"Revisión"},{key:"actions",label:"Acciones"}],desserts:[]}),created(){this.initialize()},computed:{rows(){return this.desserts.length},items(){return this.currentPage=1,this.keyword?this.desserts.filter(e=>e.name.toLowerCase().includes(this.keyword.toLowerCase())||e.date.toLowerCase().includes(this.keyword.toLowerCase())):this.desserts}},methods:{fecha(e){return e.substring(0,10)+" ("+e.substring(11,16)+")"},returnData(e){return!0===e?"Finalizado":!1===e?"Pendiente":void 0},returnColor(e){return!0===e?"primary":!1===e?"":void 0},async initialize(){this.selected="circular",await this.$axios.get("/my-procedures",{headers:{Authorization:"Bearer "+localStorage.token}}).then(e=>{var t=[];for(var r in e.data)t.push(e.data[r]);this.desserts=t,this.selected=""}).catch(e=>{this.$errorQuery(e)})}}},b=h,f=(r("4cda"),Object(l["a"])(b,s,a,!1,null,"79f2893b",null));t["default"]=f.exports},a5af:function(e,t,r){},c394:function(e,t,r){"use strict";r("2113")}}]);
//# sourceMappingURL=chunk-3df6bda8.262181ca.js.map