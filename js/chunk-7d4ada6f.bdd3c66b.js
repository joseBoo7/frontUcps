(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d4ada6f"],{2105:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"container",staticStyle:{"min-height":"150px"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-11"},[e("h1",[e("b-icon",{attrs:{icon:"box-seam"}}),t._v(" Módulos de "+t._s(this.name))],1)]),e("div",{staticClass:"col-1"},[e("h1",[e("b-icon",{attrs:{type:"button",icon:"arrow-return-left"},on:{click:t.toPrograms}})],1)])])]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"container"},[e("b-row",[e("b-col",[e("ModulesRegister",{attrs:{idIdentifier:t.identifier}})],1),e("b-col",{staticClass:"mb-3"},[e("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0"},[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("b-icon",{attrs:{icon:"search"}})],1),e("b-form-input",{attrs:{placeholder:"Buscar",type:"text"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)],1)],1)],1),e("div",{staticClass:"container col-12"},[e("div",[e("b-table",{attrs:{striped:"",responsive:"",stacked:"lg",items:t.items,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,keyword:t.keyword},scopedSlots:t._u([{key:"cell(order)",fn:function(r){return[e("p",[t._v("Módulo "+t._s(r.item.order))])]}},{key:"cell(courses)",fn:function(r){return[e("b-icon",{attrs:{type:"button",icon:"credit-card2-front"},on:{click:function(e){return t.toCourses(r.item.identifier)}}})]}},{key:"cell(state)",fn:function(r){return[e("b-badge",{attrs:{pill:"",variant:t.returnColor(r.item.state)}},[t._v(t._s(t.returnData(r.item.state)))])]}},{key:"cell(actions)",fn:function(r){return[e("b-icon-trash",{staticClass:"mx-1",attrs:{type:"button",size:"sm"},on:{click:function(e){return t.modalDelete(r.item)}}})]}}])}),e("b-pagination",{staticStyle:{display:"flex","justify-content":"center"},attrs:{pills:"","total-rows":t.rows,"per-page":t.perPage,"aria-controls":"my-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])]),e("div",[e("b-modal",{attrs:{centered:"",title:"Mensaje"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("div",{staticClass:"w-100"},[e("button",{staticClass:"btn form-control my-2",staticStyle:{"background-color":"#1d425e",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.deleteItem(t.dataDelete)}}},[t._v(" Aceptar ")]),e("button",{staticClass:"btn form-control",staticStyle:{"background-color":"rgb(119, 35, 45)",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.exitDelete()}}},[t._v(" Cancelar ")])])]},proxy:!0}]),model:{value:t.showDelete,callback:function(e){t.showDelete=e},expression:"showDelete"}},[e("b-container",{attrs:{fluid:""}},[e("h5",{staticClass:"text-center"},[t._v(" ¿Seguro que desea eliminar a "),e("b",[t._v(t._s(t.data.name))]),t._v("? ")])])],1)],1)])},o=[],a=(r("14d9"),function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"ModulesRegister"}},[e("button",{staticClass:"btn mb-3",staticStyle:{"background-color":"#1d425e",color:"white"},on:{click:function(e){return t.add()}}},[t._v(" Añadir Módulo ")]),e("div",[e("b-modal",{attrs:{scrollable:"",centered:"",title:"Añadir módulo"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("div",{staticClass:"w-100"},[e("button",{staticClass:"btn form-control my-2",staticStyle:{"background-color":"#1d425e",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.saveAddItem(t.data)}}},[t._v(" Enviar ")]),e("button",{staticClass:"btn form-control",staticStyle:{"background-color":"rgb(119, 35, 45)",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.exit()}}},[t._v(" Cancelar ")])])]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[e("b-container",{attrs:{fluid:""}},[e("form",[e("AlertError",{ref:"error"}),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"validationServer01"}},[t._v("Nombre")]),e("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Ingrese nombre"},model:{value:t.data.name,callback:function(e){t.$set(t.data,"name",e)},expression:"data.name"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Orden "),e("b-icon-info-circle-fill",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.right",value:"Ingresar un número de orden no repetido en los módulos ya creados.",expression:"\n                  'Ingresar un número de orden no repetido en los módulos ya creados.'\n                ",modifiers:{hover:!0,right:!0}}],attrs:{color:"rgb(119, 35, 45)"}})],1),e("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{prepend:"Módulo"}},[e("b-form-input",{staticClass:"form-control",attrs:{type:"number",placeholder:"Ingrese número de orden"},model:{value:t.data.order,callback:function(e){t.$set(t.data,"order",e)},expression:"data.order"}})],1)],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Descripción")]),e("b-form-textarea",{attrs:{placeholder:"Ingrese descripción"},model:{value:t.data.description,callback:function(e){t.$set(t.data,"description",e)},expression:"data.description"}})],1)],1)])],1)],1)])}),i=[],n=r("2df4"),l={name:"ModulesRegister",components:{AlertError:n["a"]},props:{idIdentifier:{type:String,default:null}},data(){return{show:!1,data:{}}},methods:{exit(){this.show=!1},add(){this.data={name:"",order:null,description:""},this.show=!0},async saveAddItem(){await this.$axios.post("/configuration/program/"+this.idIdentifier+"/modulus-register",this.data,{headers:{Authorization:"Bearer "+localStorage.token}}).then(t=>{this.show=!1,this.$message.success(t.data.content),this.$parent.initialize()}).catch(t=>{console.log(t),this.$refs.error.showAlert(t.response.data.content)})}}},c=l,d=(r("fcef"),r("2877")),u=Object(d["a"])(c,a,i,!1,null,null,null),m=u.exports,h={components:{ModulesRegister:m},props:{id:{type:String,default:null}},data:()=>({keyword:"",perPage:10,currentPage:1,dataDelete:"",showDelete:!1,identifier:null,name:"",data:{},fields:[{key:"name",label:"Nombre"},{key:"order",label:"Orden"},{key:"courses",label:"Cursos"},{key:"state",label:"Estado"},{key:"actions",label:"Acciones"}],desserts:[]}),created(){this.initialize()},computed:{rows(){return this.desserts.length},items(){return this.currentPage=1,this.keyword?this.desserts.filter(t=>t.name.toLowerCase().includes(this.keyword.toLowerCase())||t.identifier.toLowerCase().includes(this.keyword.toLowerCase())||t.order.toString().toLowerCase().includes(this.keyword.toLowerCase())):this.desserts}},methods:{toModules(t){this.$router.push("/program/"+t+"/modulus")},toPrograms(){this.$router.push("/configuration/program")},toCourses(t){this.$router.push("/modules/"+t+"/courses")},returnData(t){return"A"===t?"Activo":"I"===t?"Inactivo":void 0},returnColor(t){return"A"===t?"success":"I"===t?"danger":void 0},exit(){this.show=!1},exitDelete(){this.showDelete=!1},modalDelete(t){this.showDelete=!0,this.dataDelete=t,this.data.name=t.name},async initialize(){await this.$axios.get("/configuration/program/"+this.id+"/modulus",{headers:{Authorization:"Bearer "+localStorage.token}}).then(t=>{this.identifier=t.data.id,this.name=t.data.name,this.desserts=t.data.list}).catch(t=>{this.$errorQuery(t)})},async deleteItem(t){if(this.showDelete=!1,""!=t)try{await this.$axios.get("/configuration/program/"+this.id+"/modulus-delete?id="+t.id,{headers:{Authorization:"Bearer "+localStorage.token}}).then(t=>{this.$message.success(t.data.content),this.initialize()})}catch(e){this.$message.error(e.response.data.content),console.log(e)}}}},p=h,b=(r("959a"),Object(d["a"])(p,s,o,!1,null,null,null));e["default"]=b.exports},"2df4":function(t,e,r){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"AlertError"}},[e("b-alert",{attrs:{show:t.dismissCountDown,variant:"danger"},on:{"dismiss-count-down":t.countDownChanged}},[e("strong",[t._v("Error. "+t._s(t.error)+",")]),t._v(" ocultando en "+t._s(t.dismissCountDown)+" segundos... ")])],1)},o=[],a={name:"AlertError",data(){return{error:"",dismissSecs:5,dismissCountDown:0,showDismissibleAlert:!1}},methods:{countDownChanged(t){this.dismissCountDown=t},showAlert(t){this.error=t,this.dismissCountDown=this.dismissSecs}}},i=a,n=r("2877"),l=Object(n["a"])(i,s,o,!1,null,null,null);e["a"]=l.exports},8484:function(t,e,r){},"959a":function(t,e,r){"use strict";r("8484")},baeb:function(t,e,r){},fcef:function(t,e,r){"use strict";r("baeb")}}]);
//# sourceMappingURL=chunk-7d4ada6f.bdd3c66b.js.map