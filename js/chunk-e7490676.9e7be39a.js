(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e7490676"],{"100e":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("loader",{attrs:{object:"#ffffff",color1:"#ffffff",color2:"#ffffff",time:"100",size:"5",speed:"2",bg:"#5e151d",objectbg:"#999793",opacity:"100",name:e.selected,disableScrolling:"false"}}),t("div",{staticClass:"container",staticStyle:{"min-height":"150px"}},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-header"},[t("h1",[t("b-icon",{attrs:{icon:"file-earmark-person"}}),e._v(" "+e._s("GestiÃ³n de estudiantes ("+e.elements+")")+" ")],1)]),t("div",{staticClass:"card-body"},[t("div",{staticClass:"container col-12"},[t("div",[t("b-row",[t("b-col",{staticClass:"mb-3",attrs:{lg:"12",sm:"12"}},[t("b-form-select",{attrs:{options:e.periods},on:{change:function(t){return e.changePeriod()}},model:{value:e.selectPeriod,callback:function(t){e.selectPeriod=t},expression:"selectPeriod"}}),t("b-form-select",{directives:[{name:"show",rawName:"v-show",value:""!=e.selectPeriod,expression:"selectPeriod != ''"}],attrs:{options:e.programs},on:{change:function(t){return e.changeProgram()}},model:{value:e.selectProgram,callback:function(t){e.selectProgram=t},expression:"selectProgram"}}),t("b-form-select",{directives:[{name:"show",rawName:"v-show",value:""!=e.selectProgram,expression:"selectProgram != ''"}],attrs:{options:e.turns},on:{change:function(t){return e.changeTurn()}},model:{value:e.selectTurn,callback:function(t){e.selectTurn=t},expression:"selectTurn"}})],1)],1),0!=e.desserts.length?t("div",[t("b-table",{attrs:{striped:"",responsive:"",stacked:"lg",items:e.desserts,fields:e.fields},scopedSlots:e._u([{key:"cell(name)",fn:function(t){return[e._v(" "+e._s(t.item.name)+" ")]}},{key:"cell(lastName)",fn:function(t){return[e._v(" "+e._s(t.item.lastnameFather+" "+t.item.lastnameMother)+" ")]}},{key:"cell(paymentPercentage)",fn:function(t){return[e._v(" "+e._s(t.item.paymentPercentage+" %")+" ")]}}],null,!1,3910235223)})],1):t("div",{staticClass:"text-center"},[t("em",[e._v("No hay datos en usando estos filtros")])]),0!=e.desserts.length?t("b-pagination",{staticStyle:{display:"flex","justify-content":"center"},attrs:{pills:"","total-rows":e.elements,"per-page":"10"},on:{input:function(t){return e.changeQueryPagination()}},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}):e._e()],1)])])])])],1)},s=[],i=(a("14d9"),{data:()=>({elements:0,currentPage:1,periods:[],programs:[],turns:[],selectPeriod:"",selectProgram:"",selectTurn:"",keyword:"",selected:"",desserts:[],fields:[{key:"index",label:"#",isRowHeader:!0},{key:"identificationDocument",label:"DNI"},{key:"email",label:"Correo"},{key:"lastName",label:"Apellidos"},{key:"name",label:"Nombres"},{key:"phoneNumber",label:"Celular"},{key:"periodName",label:"Ciclo"},{key:"programName",label:"Programa"},{key:"turnName",label:"Turno"},{key:"paymentPercentage",label:"pago(%)"}]}),created(){this.initialize(),this.getPeriod()},methods:{async changeQueryPagination(){this.selected="circular",await this.$axios.get("/person/student?period="+this.selectPeriod+"&program="+this.selectProgram+"&turn="+this.selectTurn+"&page="+this.currentPage,{headers:{Authorization:"Bearer "+localStorage.token}}).then(e=>{this.elements=e.data.elements,this.desserts=e.data.allStudent,this.selected=""}).catch(e=>{this.$errorQuery(e)})},async changeQuery(){this.currentPage=1,this.selected="circular",await this.$axios.get("/person/student?period="+this.selectPeriod+"&program="+this.selectProgram+"&turn="+this.selectTurn+"&page="+this.currentPage,{headers:{Authorization:"Bearer "+localStorage.token}}).then(e=>{this.elements=e.data.elements,this.desserts=e.data.allStudent,this.selected=""}).catch(e=>{this.$errorQuery(e)})},async getPeriod(){this.selected="circular",await this.$axios.get("/academic",{headers:{Authorization:"Bearer "+localStorage.token}}).then(e=>{var t=[{value:"",text:"-- Seleccione Periodo --"}];for(const r in e.data){var a={value:e.data[r].id,text:e.data[r].name};t.push(a)}this.periods=t,this.selected=""}).catch(e=>{this.$errorQuery(e)})},async getProgram(e){this.selected="circular",await this.$axios.get("/person/program?period="+e,{headers:{Authorization:"Bearer "+localStorage.token}}).then(e=>{var t=[{value:"",text:"-- Seleccione Programa --"}];this.programs=t.concat(e.data),this.selected=""}).catch(e=>{this.$errorQuery(e)})},async getTurn(){this.selected="circular",await this.$axios.get("/person/group",{headers:{Authorization:"Bearer "+localStorage.token}}).then(e=>{var t=[{value:"",text:"-- Seleccione Turno --"}];this.turns=t.concat(e.data),this.selected=""}).catch(e=>{this.$errorQuery(e)})},async changePeriod(){this.selectProgram="",this.selectTurn="",""!=this.selectPeriod&&this.getProgram(this.selectPeriod),this.changeQuery()},async changeProgram(){this.selectTurn="",""!=this.selectProgram&&this.getTurn(),this.changeQuery()},async changeTurn(){this.changeQuery()},async initialize(){this.selected="circular",await this.$axios.get("/person/student?period=&program=&turn=&page=",{headers:{Authorization:"Bearer "+localStorage.token}}).then(e=>{this.elements=e.data.elements,this.desserts=e.data.allStudent,this.selected=""}).catch(e=>{this.$errorQuery(e)})}}}),n=i,o=(a("2fd4"),a("2877")),c=Object(o["a"])(n,r,s,!1,null,null,null);t["default"]=c.exports},"2fd4":function(e,t,a){"use strict";a("ade6")},ade6:function(e,t,a){}}]);
//# sourceMappingURL=chunk-e7490676.9e7be39a.js.map