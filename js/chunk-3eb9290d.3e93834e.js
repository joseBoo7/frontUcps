(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3eb9290d"],{"143b":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"dashboard"}},[r("loader",{attrs:{object:"#ffffff",color1:"#ffffff",color2:"#ffffff",time:"100",size:"5",speed:"2",bg:"#5e151d",objectbg:"#999793",opacity:"100",name:t.selected,disableScrolling:"false"}}),r("div",{staticClass:"container"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[r("h1",[r("b-icon",{attrs:{icon:"person-lines-fill"}}),t._v(" Gestión de roles")],1)]),r("div",{staticClass:"card-body"},[r("div",{staticClass:"container col-12"},[r("div",[r("RolesRegister"),r("b-tabs",{staticClass:"card",attrs:{card:"",fill:""}},t._l(t.desserts,(function(e,n){return r("b-tab",{key:n,attrs:{title:e.name}},[r("b-table",{attrs:{striped:"",responsive:"",stacked:"lg",items:e.rolesType,fields:t.fields},scopedSlots:t._u([{key:"cell(state)",fn:function(e){return[r("b-badge",{attrs:{pill:"",variant:t.returnColor(e.item.state)}},[t._v(t._s(t.returnData(e.item.state)))])]}},{key:"cell(actions)",fn:function(n){return[r("b-icon-pencil-square",{staticClass:"mx-1",attrs:{type:"button",size:"sm"},on:{click:function(e){return t.dateItem(n.item)}}}),r("b-icon-trash",{directives:[{name:"show",rawName:"v-show",value:"D"===e.type,expression:"item.type === 'D'"}],staticClass:"mx-1",attrs:{type:"button",size:"sm"},on:{click:function(e){return t.modalDelete(n.item)}}})]}}],null,!0)})],1)})),1)],1)])])])]),r("div",[r("b-modal",{attrs:{scrollable:"",centered:"",title:"Editar Rol"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[r("div",{staticClass:"w-100"},[r("button",{staticClass:"btn form-control my-2",staticStyle:{"background-color":"#1d425e",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.saveEditItem(t.data)}}},[t._v(" Enviar ")]),r("button",{staticClass:"btn form-control",staticStyle:{"background-color":"rgb(119, 35, 45)",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.exit()}}},[t._v(" Cancelar ")])])]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[r("b-container",{attrs:{fluid:""}},[r("form",[r("AlertError",{ref:"error"}),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Nombre")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.data.name,expression:"data.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ingrese su nombre",required:""},domProps:{value:t.data.name},on:{input:function(e){e.target.composing||t.$set(t.data,"name",e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Descripción")]),r("b-form-textarea",{staticClass:"form-control",attrs:{placeholder:"Ingrese descripción",required:""},model:{value:t.data.description,callback:function(e){t.$set(t.data,"description",e)},expression:"data.description"}})],1)],1)])],1)],1),r("div",[r("b-modal",{attrs:{centered:"",title:"Mensaje"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[r("div",{staticClass:"w-100"},[r("button",{staticClass:"btn form-control my-2",staticStyle:{"background-color":"#1d425e",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.deleteItem(t.dataDelete)}}},[t._v(" Aceptar ")]),r("button",{staticClass:"btn form-control",staticStyle:{"background-color":"rgb(119, 35, 45)",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.exitDelete()}}},[t._v(" Cancelar ")])])]},proxy:!0}]),model:{value:t.showDelete,callback:function(e){t.showDelete=e},expression:"showDelete"}},[r("b-container",{attrs:{fluid:""}},[r("h5",{staticClass:"text-center"},[t._v(" ¿Seguro que desea eliminar a "),r("b",[t._v(t._s(t.data.name))]),t._v("? ")])])],1)],1)],1)},a=[],o=r("1da1"),s=(r("96cf"),r("b0c0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"RolesRegister"}},[r("button",{staticClass:"btn mb-3",staticStyle:{"background-color":"#1d425e",color:"white"},on:{click:function(e){return t.addRol()}}},[t._v(" Registrar Rol ")]),r("div",[r("b-modal",{attrs:{scrollable:"",centered:"",title:"Registrar Rol"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[r("div",{staticClass:"w-100"},[r("button",{staticClass:"btn form-control my-2",staticStyle:{"background-color":"#1d425e",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.saveAddItem(t.data)}}},[t._v(" Enviar ")]),r("button",{staticClass:"btn form-control",staticStyle:{"background-color":"rgb(119, 35, 45)",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.exit()}}},[t._v(" Cancelar ")])])]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[r("b-container",{attrs:{fluid:""}},[r("form",[r("AlertError",{ref:"error"}),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Nombre")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.data.name,expression:"data.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ingrese nombre",required:""},domProps:{value:t.data.name},on:{input:function(e){e.target.composing||t.$set(t.data,"name",e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Descripción")]),r("b-form-textarea",{staticClass:"form-control",attrs:{placeholder:"Ingrese descripción",required:""},model:{value:t.data.description,callback:function(e){t.$set(t.data,"description",e)},expression:"data.description"}})],1)],1)])],1)],1)])}),i=[],c=r("2df4"),l={name:"RolesRegister",components:{AlertError:c["a"]},data:function(){return{show:!1,data:{name:"",description:""}}},methods:{exit:function(){this.show=!1},addRol:function(){this.data={name:"",description:""},this.show=!0},saveAddItem:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.post("/security/role/register",t.data,{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){t.show=!1,t.$message.success(e.data.content),t.$parent.initialize()})).catch((function(e){console.log(e),t.$refs.error.showAlert(e.response.data.content)}));case 2:case"end":return e.stop()}}),e)})))()}}},u=l,d=(r("4b0f"),r("2877")),f=Object(d["a"])(u,s,i,!1,null,null,null),m=f.exports,p={components:{RolesRegister:m,AlertError:c["a"]},data:function(){return{selected:"",dataDelete:"",show:!1,showDelete:!1,data:{id:-1,name:"",description:"",state:""},desserts:[],fields:[{key:"name",label:"Nombre"},{key:"state",label:"Estado"},{key:"actions",label:"Acciones"}]}},created:function(){this.initialize()},methods:{returnData:function(t){return"A"===t?"Activo":"I"===t?"Inactivo":void 0},returnColor:function(t){return"A"===t?"success":"I"===t?"danger":void 0},modalDelete:function(t){this.showDelete=!0,this.dataDelete=t,this.data.name=t.name},exitDelete:function(){this.showDelete=!1,this.data.name=""},exit:function(){this.show=!1},initialize:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.selected="circular",e.next=3,t.$axios.get("/security/role",{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){var r=[];for(var n in e.data){var a={type:e.data[n].type,name:e.data[n].name,rolesType:e.data[n].rolesType};r.push(a)}t.desserts=r,t.selected=""})).catch((function(e){t.$errorQuery(e)}));case 3:case"end":return e.stop()}}),e)})))()},dateItem:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.show=!0,r.next=3,e.$axios.get("/security/edit-role/"+t.id,{headers:{Authorization:"Bearer ".concat(localStorage.token)}});case 3:n=r.sent,e.data=n.data;case 5:case"end":return r.stop()}}),r)})))()},saveEditItem:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(-1==t.id){r.next=9;break}return r.prev=1,r.next=4,e.$axios.post("/security/edit-role",e.data,{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(t){e.$message.success(t.data.content),e.show=!1,e.initialize()})).catch((function(t){e.$refs.error.showAlert(t.response.data.content)}));case 4:r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](1),console.log(r.t0);case 9:case"end":return r.stop()}}),r,null,[[1,6]])})))()},deleteItem:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.showDelete=!1,""==t){r.next=11;break}return r.prev=2,r.next=5,e.$axios.get("/security/delete-role/"+t.id+"/",{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(t){e.$message.success(t.data.content),e.initialize()}));case 5:r.next=11;break;case 7:r.prev=7,r.t0=r["catch"](2),e.$message.error("Error!"),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[2,7]])})))()}}},b=p,h=(r("d0f6"),Object(d["a"])(b,n,a,!1,null,null,null));e["default"]=h.exports},"2df4":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"AlertError"}},[r("b-alert",{attrs:{show:t.dismissCountDown,variant:"danger"},on:{"dismiss-count-down":t.countDownChanged}},[r("strong",[t._v("Error. "+t._s(t.error)+",")]),t._v(" ocultando en "+t._s(t.dismissCountDown)+" segundos... ")])],1)},a=[],o={name:"AlertError",data:function(){return{error:"",dismissSecs:5,dismissCountDown:0,showDismissibleAlert:!1}},methods:{countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(t){this.error=t,this.dismissCountDown=this.dismissSecs}}},s=o,i=r("2877"),c=Object(i["a"])(s,n,a,!1,null,null,null);e["a"]=c.exports},"4b0f":function(t,e,r){"use strict";r("ef54")},6095:function(t,e,r){},b0c0:function(t,e,r){var n=r("83ab"),a=r("5e77").EXISTS,o=r("e330"),s=r("9bf2").f,i=Function.prototype,c=o(i.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=o(l.exec),d="name";n&&!a&&s(i,d,{configurable:!0,get:function(){try{return u(l,c(this))[1]}catch(t){return""}}})},d0f6:function(t,e,r){"use strict";r("6095")},ef54:function(t,e,r){}}]);
//# sourceMappingURL=chunk-3eb9290d.3e93834e.js.map