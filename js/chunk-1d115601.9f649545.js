(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d115601"],{"02e1":function(t,e,a){"use strict";a("ad82")},2532:function(t,e,a){"use strict";var r=a("23e7"),n=a("e330"),o=a("5a34"),s=a("1d80"),i=a("577e"),c=a("ab13"),l=n("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~l(i(s(this)),i(o(t)),arguments.length>1?arguments[1]:void 0)}})},"27c9":function(t,e,a){},"4de4":function(t,e,a){"use strict";var r=a("23e7"),n=a("b727").filter,o=a("1dde"),s=o("filter");r({target:"Array",proto:!0,forced:!s},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,e,a){var r=a("da84"),n=a("44e7"),o=r.TypeError;t.exports=function(t){if(n(t))throw o("The method doesn't accept regular expressions");return t}},a66e:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loader",{attrs:{object:"#ffffff",color1:"#ffffff",color2:"#ffffff",time:"100",size:"5",speed:"2",bg:"#5e151d",objectbg:"#999793",opacity:"100",name:t.selected,disableScrolling:"false"}}),a("div",{staticClass:"container",staticStyle:{"min-height":"150px"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h1",[a("b-icon",{attrs:{icon:"blockquote-left"}}),t._v(" Gestión de Programas")],1)]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"container"},[a("b-row",[a("b-col",[a("ProgramConfigRegister")],1),a("b-col",{staticClass:"mb-3"},[a("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0"},[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("b-icon",{attrs:{icon:"search"}})],1),a("b-form-input",{attrs:{placeholder:"Buscar",type:"text"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)],1)],1)],1),a("div",{staticClass:"container col-12"},[a("div",[a("b-table",{attrs:{striped:"",responsive:"",stacked:"lg",items:t.items,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,keyword:t.keyword},scopedSlots:t._u([{key:"cell(state)",fn:function(e){return[a("b-badge",{attrs:{pill:"",variant:t.returnColor(e.item.state)}},[t._v(t._s(t.returnData(e.item.state)))])]}},{key:"cell(turn)",fn:function(e){return[a("b-icon",{attrs:{type:"button",icon:"sun"},on:{click:function(a){return t.toTurns(e.item.identifier)}}})]}},{key:"cell(modules)",fn:function(e){return[a("b-icon",{attrs:{type:"button",icon:"box-seam"},on:{click:function(a){return t.toModules(e.item.identifier)}}})]}},{key:"cell(actions)",fn:function(e){return[a("b-icon-pencil-square",{staticClass:"mx-1",attrs:{type:"button",size:"sm"},on:{click:function(a){return t.dateItem(e.item)}}}),a("b-icon-trash",{staticClass:"mx-1",attrs:{type:"button",size:"sm"},on:{click:function(a){return t.modalDelete(e.item)}}})]}}])}),a("b-pagination",{staticStyle:{display:"flex","justify-content":"center"},attrs:{pills:"","total-rows":t.rows,"per-page":t.perPage,"aria-controls":"my-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])]),a("div",[a("b-modal",{attrs:{scrollable:"",centered:"",title:"Editar Programa"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("button",{staticClass:"btn form-control my-2",staticStyle:{"background-color":"#1d425e",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.saveEditItem(t.data)}}},[t._v(" Editar ")]),a("button",{staticClass:"btn form-control",staticStyle:{"background-color":"rgb(119, 35, 45)",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.exit()}}},[t._v(" Cancelar ")])])]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("b-container",{attrs:{fluid:""}},[a("form",[a("b-alert",{attrs:{show:t.dismissCountDown,variant:"danger"},on:{"dismiss-count-down":t.countDownChanged}},[a("strong",[t._v("Error. "+t._s(t.error)+",")]),t._v(" ocultando en "+t._s(t.dismissCountDown)+" segundos... ")]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"validationServer01"}},[t._v("Nombre")]),a("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Ingrese su nombre"},model:{value:t.data.name,callback:function(e){t.$set(t.data,"name",e)},expression:"data.name"}})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Descripción")]),a("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Ingrese descripción"},model:{value:t.data.description,callback:function(e){t.$set(t.data,"description",e)},expression:"data.description"}})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Acrónimo")]),a("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Ingrese acrónimo"},model:{value:t.data.acronym,callback:function(e){t.$set(t.data,"acronym",e)},expression:"data.acronym"}})],1)],1)])],1)],1),a("div",[a("b-modal",{attrs:{centered:"",title:"Mensaje"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("button",{staticClass:"btn form-control my-2",staticStyle:{"background-color":"#1d425e",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.deleteItem(t.dataDelete)}}},[t._v(" Aceptar ")]),a("button",{staticClass:"btn form-control",staticStyle:{"background-color":"rgb(119, 35, 45)",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.exitDelete()}}},[t._v(" Cancelar ")])])]},proxy:!0}]),model:{value:t.showDelete,callback:function(e){t.showDelete=e},expression:"showDelete"}},[a("b-container",{attrs:{fluid:""}},[a("h5",{staticClass:"text-center"},[t._v(" ¿Seguro que desea eliminar a "),a("b",[t._v(t._s(t.data.name))]),t._v("? ")])])],1)],1)],1)},n=[],o=a("1da1"),s=(a("96cf"),a("4de4"),a("d3b7"),a("caad"),a("2532"),a("b0c0"),a("fb6a"),a("9612")),i=a("4f60"),c=(a("24ee"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"ProgramConfigRegister"}},[a("button",{staticClass:"btn mb-3",staticStyle:{"background-color":"#1d425e",color:"white"},on:{click:function(e){return t.addProgram()}}},[t._v(" Añadir Programa ")]),a("div",[a("b-modal",{attrs:{scrollable:"",centered:"",title:"Añadir programa"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("button",{staticClass:"btn form-control my-2",staticStyle:{"background-color":"#1d425e",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.saveAddItem(t.data)}}},[t._v(" Enviar ")]),a("button",{staticClass:"btn form-control",staticStyle:{"background-color":"rgb(119, 35, 45)",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.exit()}}},[t._v(" Cancelar ")])])]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("b-container",{attrs:{fluid:""}},[a("form",[a("b-alert",{attrs:{show:t.dismissCountDown,variant:"danger"},on:{"dismiss-count-down":t.countDownChanged}},[a("strong",[t._v("Error. "+t._s(t.error)+",")]),t._v(" ocultando en "+t._s(t.dismissCountDown)+" segundos... ")]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"validationServer01"}},[t._v("Nombre")]),a("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Ingrese su nombre"},model:{value:t.data.name,callback:function(e){t.$set(t.data,"name",e)},expression:"data.name"}})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Área")]),a("b-form-select",{staticClass:"form-control",attrs:{options:t.areas},model:{value:t.data.area,callback:function(e){t.$set(t.data,"area",e)},expression:"data.area"}})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Descripción")]),a("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Ingrese descripción"},model:{value:t.data.description,callback:function(e){t.$set(t.data,"description",e)},expression:"data.description"}})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Acrónimo")]),a("b-form-input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Ingrese acrónimo"},model:{value:t.data.acronym,callback:function(e){t.$set(t.data,"acronym",e)},expression:"data.acronym"}})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Imagen")]),a("b-form-file",{attrs:{type:"file","browse-text":"Buscar",placeholder:"Seleccionar una imagen aqui",accept:"image/*"},on:{change:t.previewImage}})],1)],1)])],1)],1)])}),l=[],u={name:"ProgramConfigRegister",data:function(){return{imageData:null,picture:null,uploadValue:0,error:"",dismissSecs:2,dismissCountDown:0,showDismissibleAlert:!1,show:!1,data:{name:"",description:"",area:"",image:null,acronym:""},areas:[{text:"Área Técnica",value:"T"},{text:"Área Administrativa",value:"A"}]}},methods:{previewImage:function(t){this.uploadValue=0,this.picture=null,this.imageData=t.target.files[0]},onUpload:function(){var t=this;this.picture=null;var e=null;e=s["b"].v1();var a=i["a"].storage().ref(e).put(this.imageData);return a.on("state_changed",(function(e){t.uploadValue=e.bytesTransferred/e.totalBytes*100}),(function(t){console.log(t.message)}),(function(){t.uploadValue=100,a.snapshot.ref.getDownloadURL().then((function(e){t.picture=e}))})),e},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(t){this.error=t,this.dismissCountDown=this.dismissSecs},exit:function(){this.show=!1},addProgram:function(){this.data={name:"",description:"",area:"T",image:null,acronym:""},this.show=!0},saveAddItem:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null!=t.imageData&&(a=t.onUpload(),null!=a&&(t.data.image=a)),e.next=3,t.$axios.post("/configuration/program-register",t.data,{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){t.show=!1,t.$message.success(e.data.content),t.$parent.initialize()})).catch((function(e){console.log(e),t.showAlert(e.response.data.content)}));case 3:case"end":return e.stop()}}),e)})))()}}},d=u,f=(a("e75e"),a("2877")),m=Object(f["a"])(d,c,l,!1,null,null,null),p=m.exports,h={components:{ProgramConfigRegister:p},data:function(){return{selected:"",keyword:"",perPage:10,currentPage:1,imageUrl:"",imageData:null,picture:null,uploadValue:0,dataDelete:"",error:"",dismissSecs:2,dismissCountDown:0,showDismissibleAlert:!1,show:!1,showDelete:!1,data:{id:-1,identifier:"",index:null,name:"",acronym:"",description:"",state:""},states:[{text:"Activo",value:"A"},{text:"Inactivo",value:"I"}],estados:[{value:!1,name:"Activo"},{value:!0,name:"Inactivo"}],areas:[{text:"Área Técnica",value:"T"},{text:"Área Administrativa",value:"A"}],fields:[{key:"name",label:"Nombre"},{key:"acronym",label:"Acrónimo"},{key:"turn",label:"Turno"},{key:"modules",label:"Módulos"},{key:"state",label:"Estado"},{key:"actions",label:"Acciones"}],desserts:[]}},created:function(){this.initialize()},computed:{rows:function(){return this.desserts.length},items:function(){var t=this;return this.currentPage=1,this.keyword?this.desserts.filter((function(e){return e.name.toLowerCase().includes(t.keyword.toLowerCase())||e.acronym.toLowerCase().includes(t.keyword.toLowerCase())})):this.desserts}},methods:{previewImage:function(t){this.uploadValue=0,this.picture=null,this.imageData=t.target.files[0]},getFileExtension:function(t){return t.slice(2+(t.lastIndexOf(".")-1>>>0))},onUpload:function(){var t=this;this.picture=null;var e=null;e=""===this.data.image?s["b"].v1():this.data.image;var a=i["a"].storage().ref(e).put(this.imageData);return a.on("state_changed",(function(e){t.uploadValue=e.bytesTransferred/e.totalBytes*100}),(function(t){console.log(t.message)}),(function(){t.uploadValue=100,a.snapshot.ref.getDownloadURL().then((function(e){t.picture=e}))})),e},toModules:function(t){this.$router.push("/program/"+t+"/modules")},toPrograms:function(t){this.$router.push("/programs/"+t)},toTurns:function(t){this.$router.push("/program/"+t+"/group")},returnData:function(t){return"A"===t?"Activo":"I"===t?"Inactivo":void 0},returnColor:function(t){return"A"===t?"success":"I"===t?"danger":void 0},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(t){this.error=t,this.dismissCountDown=this.dismissSecs},exit:function(){this.show=!1},exitDelete:function(){this.showDelete=!1,this.data.username=""},modalDelete:function(t){this.showDelete=!0,this.dataDelete=t,this.data.name=t.name},initialize:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.selected="circular",e.next=3,t.$axios.get("/configuration/program",{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){var a=[];for(var r in e.data){var n=e.data[r];a.push(n)}t.desserts=a,t.selected=""})).catch((function(e){t.$errorQuery(e)}));case 3:case"end":return e.stop()}}),e)})))()},dateItem:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.show=!0,a.next=3,e.$axios.get("/configuration/program-edit?id="+t.id,{headers:{Authorization:"Bearer ".concat(localStorage.token)}});case 3:r=a.sent,e.data=r.data;case 5:case"end":return a.stop()}}),a)})))()},saveEditItem:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(null!=e.imageData&&(r=e.onUpload(),null!=r&&(e.data.image=r)),e.show=!0,-1==t.id){a.next=11;break}return a.prev=3,a.next=6,e.$axios.post("/configuration/program-edit",e.data,{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(t){e.$message.success(t.data.content),e.show=!1,e.initialize()})).catch((function(t){e.showAlert(t.response.data.content)}));case 6:a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](3),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[3,8]])})))()},deleteItem:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.showDelete=!1,""==t){a.next=11;break}return a.prev=2,a.next=5,e.$axios.get("/configuration/program-delete?id="+t.id,{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(t){e.$message.success(t.data.content),e.initialize()}));case 5:a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](2),e.$message.error("Error!"),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[2,7]])})))()}}},g=h,b=(a("02e1"),Object(f["a"])(g,r,n,!1,null,null,null));e["default"]=b.exports},ab13:function(t,e,a){var r=a("b622"),n=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[n]=!1,"/./"[t](e)}catch(r){}}return!1}},ad82:function(t,e,a){},b0c0:function(t,e,a){var r=a("83ab"),n=a("5e77").EXISTS,o=a("e330"),s=a("9bf2").f,i=Function.prototype,c=o(i.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=o(l.exec),d="name";r&&!n&&s(i,d,{configurable:!0,get:function(){try{return u(l,c(this))[1]}catch(t){return""}}})},e75e:function(t,e,a){"use strict";a("27c9")},fb6a:function(t,e,a){"use strict";var r=a("23e7"),n=a("da84"),o=a("e8b5"),s=a("68ee"),i=a("861d"),c=a("23cb"),l=a("07fa"),u=a("fc6a"),d=a("8418"),f=a("b622"),m=a("1dde"),p=a("f36a"),h=m("slice"),g=f("species"),b=n.Array,v=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(t,e){var a,r,n,f=u(this),m=l(f),h=c(t,m),w=c(void 0===e?m:e,m);if(o(f)&&(a=f.constructor,s(a)&&(a===b||o(a.prototype))?a=void 0:i(a)&&(a=a[g],null===a&&(a=void 0)),a===b||void 0===a))return p(f,h,w);for(r=new(void 0===a?b:a)(v(w-h,0)),n=0;h<w;h++,n++)h in f&&d(r,n,f[h]);return r.length=n,r}})}}]);
//# sourceMappingURL=chunk-1d115601.9f649545.js.map