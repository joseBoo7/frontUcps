(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2dc58942"],{2532:function(t,e,a){"use strict";var r=a("23e7"),o=a("e330"),n=a("5a34"),s=a("1d80"),i=a("577e"),l=a("ab13"),c=o("".indexOf);r({target:"String",proto:!0,forced:!l("includes")},{includes:function(t){return!!~c(i(s(this)),i(n(t)),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,e,a){"use strict";var r=a("e330"),o=a("5e77").PROPER,n=a("6eeb"),s=a("825a"),i=a("3a9b"),l=a("577e"),c=a("d039"),d=a("ad6d"),u="toString",m=RegExp.prototype,p=m[u],f=r(d),v=c((function(){return"/a/b"!=p.call({source:"a",flags:"b"})})),g=o&&p.name!=u;(v||g)&&n(RegExp.prototype,u,(function(){var t=s(this),e=l(t.source),a=t.flags,r=l(void 0===a&&i(m,t)&&!("flags"in m)?f(t):a);return"/"+e+"/"+r}),{unsafe:!0})},"2df4":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"AlertError"}},[a("b-alert",{attrs:{show:t.dismissCountDown,variant:"danger"},on:{"dismiss-count-down":t.countDownChanged}},[a("strong",[t._v("Error. "+t._s(t.error)+",")]),t._v(" ocultando en "+t._s(t.dismissCountDown)+" segundos... ")])],1)},o=[],n={name:"AlertError",data:function(){return{error:"",dismissSecs:5,dismissCountDown:0,showDismissibleAlert:!1}},methods:{countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(t){this.error=t,this.dismissCountDown=this.dismissSecs}}},s=n,i=a("2877"),l=Object(i["a"])(s,r,o,!1,null,null,null);e["a"]=l.exports},"3f43":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loader",{attrs:{object:"#ffffff",color1:"#ffffff",color2:"#ffffff",time:"100",size:"5",speed:"2",bg:"#5e151d",objectbg:"#999793",opacity:"100",name:t.selected,disableScrolling:"false"}}),a("div",{staticClass:"container",staticStyle:{"min-height":"150px"}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("h1",[a("b-icon",{attrs:{icon:"calendar2-week"}}),t._v(" Gestión de Ciclos Académicos")],1)]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"container"},[a("b-row",[a("b-col",[a("PeriodRegister")],1),a("b-col",[a("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0"},[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("b-icon",{attrs:{icon:"search"}})],1),a("b-form-input",{attrs:{placeholder:"Buscar",type:"text"},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)],1)],1)],1),a("div",{staticClass:"container col-12"},[a("div",[a("b-table",{attrs:{striped:"",responsive:"",stacked:"lg",items:t.items,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,keyword:t.keyword},scopedSlots:t._u([{key:"cell(modality)",fn:function(e){return[a("em",[t._v(t._s(t.returnModality(e.item.modality)))])]}},{key:"cell(state)",fn:function(e){return[a("b-badge",{attrs:{pill:"",variant:t.returnColor(e.item.state)}},[t._v(t._s(t.returnData(e.item.state)))])]}},{key:"cell(programs)",fn:function(e){return[a("b-icon",{staticClass:"mx-1",attrs:{type:"button",icon:"clipboard-check"},on:{click:function(a){return t.toPrograms(e.item.identifier)}}}),a("span",[t._v(t._s(e.item.countPrograms))])]}},{key:"cell(actions)",fn:function(e){return[a("b-icon-pencil-square",{staticClass:"mx-1",attrs:{type:"button",size:"sm"},on:{click:function(a){return t.dateItem(e.item)}}}),a("b-icon-trash",{staticClass:"mx-1",attrs:{type:"button",size:"sm"},on:{click:function(a){return t.modalDelete(e.item)}}})]}}])}),a("b-pagination",{staticStyle:{display:"flex","justify-content":"center"},attrs:{pills:"","total-rows":t.rows,"per-page":t.perPage,"aria-controls":"my-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])]),a("div",[a("b-modal",{attrs:{scrollable:"",centered:"",title:"Editar Ciclo"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("button",{staticClass:"btn form-control my-2",staticStyle:{"background-color":"#1d425e",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.saveEditItem(t.data)}}},[t._v(" Editar ")]),a("button",{staticClass:"btn form-control",staticStyle:{"background-color":"rgb(119, 35, 45)",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.exit()}}},[t._v(" Cancelar ")])])]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("b-container",{attrs:{fluid:""}},[a("form",[a("AlertError",{ref:"error"}),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.name,expression:"data.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ingrese su nombre",required:""},domProps:{value:t.data.name},on:{input:function(e){e.target.composing||t.$set(t.data,"name",e.target.value)}}})]),a("div",{staticClass:"form-group my-3"},[a("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Año")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.year,expression:"data.year"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Ingrese año",required:""},domProps:{value:t.data.year},on:{input:function(e){e.target.composing||t.$set(t.data,"year",e.target.value)}}})]),a("div",{staticClass:"form-group my-3"},[a("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Descripción")]),a("b-form-textarea",{staticClass:"form-control",attrs:{placeholder:"Ingrese descripción",required:""},model:{value:t.data.description,callback:function(e){t.$set(t.data,"description",e)},expression:"data.description"}})],1),a("div",{staticClass:"form-group my-3"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Modalidad")]),a("b-form-select",{staticClass:"form-control",attrs:{options:t.modalidad,required:""},model:{value:t.data.modality,callback:function(e){t.$set(t.data,"modality",e)},expression:"data.modality"}})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Estado")]),a("b-form-select",{staticClass:"form-control",attrs:{options:t.states,required:""},model:{value:t.data.state,callback:function(e){t.$set(t.data,"state",e)},expression:"data.state"}})],1)],1)])],1)],1),a("div",[a("b-modal",{attrs:{centered:"",title:"Mensaje"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("button",{staticClass:"btn form-control my-2",staticStyle:{"background-color":"#1d425e",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.deleteItem(t.dataDelete)}}},[t._v(" Aceptar ")]),a("button",{staticClass:"btn form-control",staticStyle:{"background-color":"rgb(119, 35, 45)",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.exitDelete()}}},[t._v(" Cancelar ")])])]},proxy:!0}]),model:{value:t.showDelete,callback:function(e){t.showDelete=e},expression:"showDelete"}},[a("b-container",{attrs:{fluid:""}},[a("h5",{staticClass:"text-center"},[t._v(" ¿Seguro que desea eliminar a "),a("b",[t._v(t._s(t.data.name))]),t._v("? ")])])],1)],1)],1)},o=[],n=a("1da1"),s=(a("96cf"),a("4de4"),a("d3b7"),a("caad"),a("2532"),a("b0c0"),a("25f0"),a("fb6a"),a("9612")),i=a("4f60"),l=(a("24ee"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"PeriodRegister"}},[a("button",{staticClass:"btn mb-3",staticStyle:{"background-color":"#1d425e",color:"white"},on:{click:function(e){return t.addProgram()}}},[t._v(" Agregar Ciclo Académico ")]),a("div",[a("b-modal",{attrs:{scrollable:"",centered:"",title:"Aperturar Ciclo Académico"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[a("div",{staticClass:"w-100"},[a("button",{staticClass:"btn form-control my-2",staticStyle:{"background-color":"#1d425e",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.saveAddItem(t.data)}}},[t._v(" Enviar ")]),a("button",{staticClass:"btn form-control",staticStyle:{"background-color":"rgb(119, 35, 45)",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.exit()}}},[t._v(" Cancelar ")])])]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("b-container",{attrs:{fluid:""}},[a("form",[a("b-alert",{attrs:{show:t.dismissCountDown,variant:"danger"},on:{"dismiss-count-down":t.countDownChanged}},[a("strong",[t._v("Error. "+t._s(t.error)+",")]),t._v(" ocultando en "+t._s(t.dismissCountDown)+" segundos... ")]),a("b-row",[a("div",{staticClass:"form-group col-7"},[a("label",{attrs:{for:"validationServer01"}},[t._v("Nombre")]),a("b-form-input",{staticClass:"form-control",attrs:{state:""!=t.data.name,type:"text",placeholder:"Ingrese su nombre"},model:{value:t.data.name,callback:function(e){t.$set(t.data,"name",e)},expression:"data.name"}})],1),a("div",{staticClass:"form-group col-5"},[a("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Año")]),a("b-form-input",{staticClass:"form-control",attrs:{state:null!=t.data.year&&""!=t.data.year,type:"number",placeholder:"Ingrese año"},model:{value:t.data.year,callback:function(e){t.$set(t.data,"year",e)},expression:"data.year"}})],1)]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Modalidad")]),a("b-form-select",{staticClass:"form-control",attrs:{options:t.modalidades},model:{value:t.data.modality,callback:function(e){t.$set(t.data,"modality",e)},expression:"data.modality"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"true"===t.data.blockRegistration,expression:"data.blockRegistration === 'true'"}]},[a("div",{staticClass:"form-group my-3"},[a("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Fecha de inicio")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.dateOpening,expression:"data.dateOpening"}],staticClass:"form-control",attrs:{type:"date",required:""},domProps:{value:t.data.dateOpening},on:{input:function(e){e.target.composing||t.$set(t.data,"dateOpening",e.target.value)}}})]),a("div",{staticClass:"form-group my-3"},[a("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Fecha de cierre de matricula")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.dateClosingEnrollmet,expression:"data.dateClosingEnrollmet"}],staticClass:"form-control",attrs:{type:"date",required:""},domProps:{value:t.data.dateClosingEnrollmet},on:{input:function(e){e.target.composing||t.$set(t.data,"dateClosingEnrollmet",e.target.value)}}})]),a("div",{staticClass:"form-group my-3"},[a("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Fecha de fin")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.dateClosing,expression:"data.dateClosing"}],staticClass:"form-control",attrs:{type:"date",required:""},domProps:{value:t.data.dateClosing},on:{input:function(e){e.target.composing||t.$set(t.data,"dateClosing",e.target.value)}}})]),a("div",{staticClass:"form-group my-3"},[a("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Monto matricula")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.payEnrollmet,expression:"data.payEnrollmet"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Ingrese monto de dinero",required:""},domProps:{value:t.data.payEnrollmet},on:{input:function(e){e.target.composing||t.$set(t.data,"payEnrollmet",e.target.value)}}})]),a("div",{staticClass:"form-group my-3"},[a("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Monto pensión")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.payPension,expression:"data.payPension"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Ingrese monto de dinero",required:""},domProps:{value:t.data.payPension},on:{input:function(e){e.target.composing||t.$set(t.data,"payPension",e.target.value)}}})])])],1)])],1)],1)])}),c=[],d={name:"PeriodRegister",data:function(){return{selected:"",error:"",dismissSecs:2,dismissCountDown:0,showDismissibleAlert:!1,show:!1,data:{name:"",modality:"",year:null,blockRegistration:!1,dateOpening:"",dateClosing:"",dateClosingEnrollmet:"",payEnrollmet:null,payPension:null},modalidades:[{text:"Modalidad Virtual",value:"V"},{text:"Modalidad Presencial",value:"P"}]}},methods:{countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(t){this.error=t,this.dismissCountDown=this.dismissSecs},exit:function(){this.show=!1},addProgram:function(){this.data={name:"Ciclo Académico",modality:"V",year:null,blockRegistration:!1,dateOpening:"",dateClosing:"",dateClosingEnrollmet:"",payEnrollmet:null,payPension:null,weeks:0},this.show=!0},saveAddItem:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.data.blockRegistration||(t.data.dateOpening="2000-01-01",t.data.dateClosing="2000-01-01",t.data.dateClosingEnrollmet="2000-01-01",t.data.payEnrollmet=0,t.data.payPension=0),e.next=3,t.$axios.post("/academic/cycle-register",t.data,{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){t.show=!1,t.$message.success(e.data.content),t.$parent.initialize()})).catch((function(e){console.log(e),t.showAlert(e.response.data.content)}));case 3:case"end":return e.stop()}}),e)})))()}}},u=d,m=(a("d5b8"),a("2877")),p=Object(m["a"])(u,l,c,!1,null,null,null),f=p.exports,v=a("2df4"),g={components:{PeriodRegister:f,AlertError:v["a"]},data:function(){return{selected:"",keyword:"",perPage:10,currentPage:1,imageUrl:"",imageData:null,picture:null,uploadValue:0,dataDelete:"",show:!1,showDelete:!1,data:{id:"",identifier:"",year:null,name:"",description:"",modality:"",state:""},modalidad:[{text:"Virtual",value:"V"},{text:"Presencial",value:"P"}],states:[{text:"Activo",value:"A"},{text:"Inactivo",value:"I"}],estados:[{value:!1,name:"Activo"},{value:!0,name:"Inactivo"}],fields:[{key:"name",label:"Nombre"},{key:"year",label:"Año Académico"},{key:"modality",label:"Modalidad"},{key:"programs",label:"Programas"},{key:"state",label:"Estado"},{key:"actions",label:"Acciones"}],desserts:[]}},created:function(){this.initialize()},computed:{rows:function(){return this.desserts.length},items:function(){var t=this;return this.currentPage=1,this.keyword?this.desserts.filter((function(e){return e.name.toLowerCase().includes(t.keyword.toLowerCase())||e.year.toString().toLowerCase().includes(t.keyword.toLowerCase())})):this.desserts}},methods:{returnModality:function(t){return"V"===t?"Virtual":"P"===t?"Presencial":void 0},previewImage:function(t){this.uploadValue=0,this.picture=null,this.imageData=t.target.files[0]},getFileExtension:function(t){return t.slice(2+(t.lastIndexOf(".")-1>>>0))},onUpload:function(){var t=this;this.picture=null;var e=null;e=""===this.data.image?s["b"].v1():this.data.image;var a=i["a"].storage().ref(e).put(this.imageData);return a.on("state_changed",(function(e){t.uploadValue=e.bytesTransferred/e.totalBytes*100}),(function(t){console.log(t.message)}),(function(){t.uploadValue=100,a.snapshot.ref.getDownloadURL().then((function(e){t.picture=e}))})),e},toPrograms:function(t){this.$router.push("/academic/"+t+"/programs")},returnData:function(t){return"A"===t?"Activo":"I"===t?"Inactivo":void 0},returnColor:function(t){return"A"===t?"success":"I"===t?"danger":void 0},exit:function(){this.show=!1},exitDelete:function(){this.showDelete=!1,this.data.username=""},modalDelete:function(t){this.showDelete=!0,this.dataDelete=t,this.data.name=t.name},initialize:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.selected="circular",e.next=3,t.$axios.get("/academic",{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){var a=[];for(var r in e.data){var o=e.data[r];a.push(o)}t.desserts=a,t.selected=""})).catch((function(e){t.$errorQuery(e)}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})))()},dateItem:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.show=!0,a.next=3,e.$axios.get("/academic/cycle-edit?id="+t.id,{headers:{Authorization:"Bearer ".concat(localStorage.token)}});case 3:r=a.sent,e.data=r.data;case 5:case"end":return a.stop()}}),a)})))()},saveEditItem:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.show=!0,""==t.id){a.next=10;break}return a.prev=2,a.next=5,e.$axios.post("/academic/cycle-edit",e.data,{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(t){e.$message.success(t.data.content),e.show=!1,e.initialize()})).catch((function(t){e.$refs.error.showAlert(t.response.data.content)}));case 5:a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](2),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[2,7]])})))()},deleteItem:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.showDelete=!1,""==t){a.next=11;break}return a.prev=2,a.next=5,e.$axios.get("/academic/cycle-delete?id="+t.id,{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(t){e.$message.success(t.data.content),e.initialize()}));case 5:a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](2),e.$message.error("Error!"),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[2,7]])})))()}}},b=g,h=(a("5530"),Object(m["a"])(b,r,o,!1,null,null,null));e["default"]=h.exports},"4de4":function(t,e,a){"use strict";var r=a("23e7"),o=a("b727").filter,n=a("1dde"),s=n("filter");r({target:"Array",proto:!0,forced:!s},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,a){"use strict";a("9bdb")},"5a34":function(t,e,a){var r=a("da84"),o=a("44e7"),n=r.TypeError;t.exports=function(t){if(o(t))throw n("The method doesn't accept regular expressions");return t}},"5a84":function(t,e,a){},"9bdb":function(t,e,a){},ab13:function(t,e,a){var r=a("b622"),o=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[o]=!1,"/./"[t](e)}catch(r){}}return!1}},b0c0:function(t,e,a){var r=a("83ab"),o=a("5e77").EXISTS,n=a("e330"),s=a("9bf2").f,i=Function.prototype,l=n(i.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=n(c.exec),u="name";r&&!o&&s(i,u,{configurable:!0,get:function(){try{return d(c,l(this))[1]}catch(t){return""}}})},d5b8:function(t,e,a){"use strict";a("5a84")},fb6a:function(t,e,a){"use strict";var r=a("23e7"),o=a("da84"),n=a("e8b5"),s=a("68ee"),i=a("861d"),l=a("23cb"),c=a("07fa"),d=a("fc6a"),u=a("8418"),m=a("b622"),p=a("1dde"),f=a("f36a"),v=p("slice"),g=m("species"),b=o.Array,h=Math.max;r({target:"Array",proto:!0,forced:!v},{slice:function(t,e){var a,r,o,m=d(this),p=c(m),v=l(t,p),y=l(void 0===e?p:e,p);if(n(m)&&(a=m.constructor,s(a)&&(a===b||n(a.prototype))?a=void 0:i(a)&&(a=a[g],null===a&&(a=void 0)),a===b||void 0===a))return f(m,v,y);for(r=new(void 0===a?b:a)(h(y-v,0)),o=0;v<y;v++,o++)v in m&&u(r,o,m[v]);return r.length=o,r}})}}]);
//# sourceMappingURL=chunk-2dc58942.0e11932d.js.map