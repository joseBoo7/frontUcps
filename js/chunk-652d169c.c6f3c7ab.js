(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-652d169c"],{"143b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"dashboard"}},[e("loader",{attrs:{object:"#ffffff",color1:"#ffffff",color2:"#ffffff",time:"100",size:"5",speed:"2",bg:"#5e151d",objectbg:"#999793",opacity:"100",name:t.selected,disableScrolling:"false"}}),e("div",{staticClass:"container"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("h1",[e("b-icon",{attrs:{icon:"person-lines-fill"}}),t._v(" Gestión de roles")],1)]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"container col-12"},[e("div",[e("RolesRegister"),e("b-tabs",{staticClass:"card",attrs:{card:"",fill:""}},t._l(t.desserts,(function(a,s){return e("b-tab",{key:s,attrs:{title:a.name}},[e("b-table",{attrs:{striped:"",responsive:"",stacked:"lg",items:a.rolesType,fields:t.fields},scopedSlots:t._u([{key:"cell(state)",fn:function(a){return[e("b-badge",{attrs:{pill:"",variant:t.returnColor(a.item.state)}},[t._v(t._s(t.returnData(a.item.state)))])]}},{key:"cell(actions)",fn:function(s){return[e("b-icon-pencil-square",{staticClass:"mx-1",attrs:{type:"button",size:"sm"},on:{click:function(e){return t.dateItem(s.item)}}}),e("b-icon-trash",{directives:[{name:"show",rawName:"v-show",value:"D"===a.type,expression:"item.type === 'D'"}],staticClass:"mx-1",attrs:{type:"button",size:"sm"},on:{click:function(e){return t.modalDelete(s.item)}}})]}}],null,!0)})],1)})),1)],1)])])])]),e("div",[e("b-modal",{attrs:{scrollable:"",centered:"",title:"Editar Rol"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("div",{staticClass:"w-100"},[e("button",{staticClass:"btn form-control my-2",staticStyle:{"background-color":"#1d425e",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.saveEditItem(t.data)}}},[t._v(" Enviar ")]),e("button",{staticClass:"btn form-control",staticStyle:{"background-color":"rgb(119, 35, 45)",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.exit()}}},[t._v(" Cancelar ")])])]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[e("b-container",{attrs:{fluid:""}},[e("form",[e("AlertError",{ref:"error"}),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.name,expression:"data.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ingrese su nombre",required:""},domProps:{value:t.data.name},on:{input:function(e){e.target.composing||t.$set(t.data,"name",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Descripción")]),e("b-form-textarea",{staticClass:"form-control",attrs:{placeholder:"Ingrese descripción",required:""},model:{value:t.data.description,callback:function(e){t.$set(t.data,"description",e)},expression:"data.description"}})],1)],1)])],1)],1),e("div",[e("b-modal",{attrs:{centered:"",title:"Mensaje"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("div",{staticClass:"w-100"},[e("button",{staticClass:"btn form-control my-2",staticStyle:{"background-color":"#1d425e",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.deleteItem(t.dataDelete)}}},[t._v(" Aceptar ")]),e("button",{staticClass:"btn form-control",staticStyle:{"background-color":"rgb(119, 35, 45)",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.exitDelete()}}},[t._v(" Cancelar ")])])]},proxy:!0}]),model:{value:t.showDelete,callback:function(e){t.showDelete=e},expression:"showDelete"}},[e("b-container",{attrs:{fluid:""}},[e("h5",{staticClass:"text-center"},[t._v(" ¿Seguro que desea eliminar a "),e("b",[t._v(t._s(t.data.name))]),t._v("? ")])])],1)],1)],1)},r=[],o=(a("14d9"),function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"RolesRegister"}},[e("button",{staticClass:"btn mb-3",staticStyle:{"background-color":"#1d425e",color:"white"},on:{click:function(e){return t.addRol()}}},[t._v(" Registrar Rol ")]),e("div",[e("b-modal",{attrs:{scrollable:"",centered:"",title:"Registrar Rol"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("div",{staticClass:"w-100"},[e("button",{staticClass:"btn form-control my-2",staticStyle:{"background-color":"#1d425e",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.saveAddItem(t.data)}}},[t._v(" Enviar ")]),e("button",{staticClass:"btn form-control",staticStyle:{"background-color":"rgb(119, 35, 45)",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.exit()}}},[t._v(" Cancelar ")])])]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[e("b-container",{attrs:{fluid:""}},[e("form",[e("AlertError",{ref:"error"}),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.name,expression:"data.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ingrese nombre",required:""},domProps:{value:t.data.name},on:{input:function(e){e.target.composing||t.$set(t.data,"name",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Descripción")]),e("b-form-textarea",{staticClass:"form-control",attrs:{placeholder:"Ingrese descripción",required:""},model:{value:t.data.description,callback:function(e){t.$set(t.data,"description",e)},expression:"data.description"}})],1)],1)])],1)],1)])}),i=[],n=a("2df4"),l={name:"RolesRegister",components:{AlertError:n["a"]},data(){return{show:!1,data:{name:"",description:""}}},methods:{exit(){this.show=!1},addRol(){this.data={name:"",description:""},this.show=!0},async saveAddItem(){await this.$axios.post("/security/role/register",this.data,{headers:{Authorization:"Bearer "+localStorage.token}}).then(t=>{this.show=!1,this.$message.success(t.data.content),this.$parent.initialize()}).catch(t=>{console.log(t),this.$refs.error.showAlert(t.response.data.content)})}}},c=l,d=(a("315c"),a("2877")),u=Object(d["a"])(c,o,i,!1,null,null,null),m=u.exports,h={components:{RolesRegister:m,AlertError:n["a"]},data:()=>({selected:"",dataDelete:"",show:!1,showDelete:!1,data:{id:-1,name:"",description:"",state:""},desserts:[],fields:[{key:"name",label:"Nombre"},{key:"state",label:"Estado"},{key:"actions",label:"Acciones"}]}),created(){this.initialize()},methods:{returnData(t){return"A"===t?"Activo":"I"===t?"Inactivo":void 0},returnColor(t){return"A"===t?"success":"I"===t?"danger":void 0},modalDelete(t){this.showDelete=!0,this.dataDelete=t,this.data.name=t.name},exitDelete(){this.showDelete=!1,this.data.name=""},exit(){this.show=!1},async initialize(){this.selected="circular",await this.$axios.get("/security/role",{headers:{Authorization:"Bearer "+localStorage.token}}).then(t=>{var e=[];for(var a in t.data){var s={type:t.data[a].type,name:t.data[a].name,rolesType:t.data[a].rolesType};e.push(s)}this.desserts=e,this.selected=""}).catch(t=>{this.$errorQuery(t)})},async dateItem(t){this.show=!0;let e=await this.$axios.get("/security/edit-role/"+t.id,{headers:{Authorization:"Bearer "+localStorage.token}});this.data=e.data},async saveEditItem(t){if(-1!=t.id)try{await this.$axios.post("/security/edit-role",this.data,{headers:{Authorization:"Bearer "+localStorage.token}}).then(t=>{this.$message.success(t.data.content),this.show=!1,this.initialize()}).catch(t=>{this.$refs.error.showAlert(t.response.data.content)})}catch(e){console.log(e)}},async deleteItem(t){if(this.showDelete=!1,""!=t)try{await this.$axios.get("/security/delete-role/"+t.id+"/",{headers:{Authorization:"Bearer "+localStorage.token}}).then(t=>{this.$message.success(t.data.content),this.initialize()})}catch(e){this.$message.error("Error!"),console.log(e)}}}},f=h,b=(a("d8c9"),Object(d["a"])(f,s,r,!1,null,null,null));e["default"]=b.exports},"2df4":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"AlertError"}},[e("b-alert",{attrs:{show:t.dismissCountDown,variant:"danger"},on:{"dismiss-count-down":t.countDownChanged}},[e("strong",[t._v("Error. "+t._s(t.error)+",")]),t._v(" ocultando en "+t._s(t.dismissCountDown)+" segundos... ")])],1)},r=[],o={name:"AlertError",data(){return{error:"",dismissSecs:5,dismissCountDown:0,showDismissibleAlert:!1}},methods:{countDownChanged(t){this.dismissCountDown=t},showAlert(t){this.error=t,this.dismissCountDown=this.dismissSecs}}},i=o,n=a("2877"),l=Object(n["a"])(i,s,r,!1,null,null,null);e["a"]=l.exports},"315c":function(t,e,a){"use strict";a("9526")},9526:function(t,e,a){},b6af:function(t,e,a){},d8c9:function(t,e,a){"use strict";a("b6af")}}]);
//# sourceMappingURL=chunk-652d169c.c6f3c7ab.js.map