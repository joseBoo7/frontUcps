(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e9c5268"],{1127:function(t,e,n){},"62c4":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container",staticStyle:{"min-height":"150px"}},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-11"},[n("h1",[n("b-icon",{attrs:{icon:"person-lines-fill"}}),t._v(" Roles de "+t._s(t.personName)+" ")],1)]),n("div",{staticClass:"col-1"},[n("h1",[n("b-icon",{attrs:{type:"button",icon:"arrow-return-left"},on:{click:t.toUsers}})],1)])])]),n("div",{staticClass:"card-body"},[n("div",{staticClass:"container col-12"},[n("div",[n("UserRolesRegister",{attrs:{id:t.id}}),n("b-table",{attrs:{striped:"",responsive:"",stacked:"lg",items:t.desserts,fields:t.fields},scopedSlots:t._u([{key:"cell(relationState)",fn:function(e){return[n("b-badge",{attrs:{pill:"",variant:t.returnColor(e.item.relationState)}},[t._v(t._s(t.returnData(e.item.relationState)))])]}},{key:"cell(actions)",fn:function(e){return[n("b-icon-trash",{staticClass:"mx-1",attrs:{type:"button",size:"sm"},on:{click:function(n){return t.modalDelete(e.item)}}})]}}])})],1)])])])]),n("div",[n("b-modal",{attrs:{centered:"",title:"Mensaje"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[n("div",{staticClass:"w-100"},[n("button",{staticClass:"btn form-control my-2",staticStyle:{"background-color":"#1d425e",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.deleteItem(t.dataDelete)}}},[t._v(" Aceptar ")]),n("button",{staticClass:"btn form-control",staticStyle:{"background-color":"rgb(119, 35, 45)",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.exitDelete()}}},[t._v(" Cancelar ")])])]},proxy:!0}]),model:{value:t.showDelete,callback:function(e){t.showDelete=e},expression:"showDelete"}},[n("b-container",{attrs:{fluid:""}},[n("h5",{staticClass:"text-center"},[t._v(" Â¿Seguro que desea quitar el rol "),n("b",[t._v(t._s(t.data.name))]),t._v("? ")])])],1)],1)])},o=[],a=n("1da1"),s=(n("96cf"),n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"RolesRegister"}},[n("button",{staticClass:"btn mb-3",staticStyle:{"background-color":"#1d425e",color:"white"},on:{click:function(e){return t.addRol()}}},[t._v(" Agregar Rol ")]),n("div",[n("b-modal",{attrs:{scrollable:"",centered:"",title:"Agregar Rol"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[n("div",{staticClass:"w-100"},[n("button",{staticClass:"btn form-control my-2",staticStyle:{"background-color":"#1d425e",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.saveAddItem()}}},[t._v(" Agregar ")]),n("button",{staticClass:"btn form-control",staticStyle:{"background-color":"rgb(119, 35, 45)",border:"none",color:"white"},attrs:{type:"button"},on:{click:function(e){return t.exit()}}},[t._v(" Cancelar ")])])]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("b-container",{attrs:{fluid:""}},[n("form",[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Seleccionar rol")]),n("b-form-select",{staticClass:"form-control",attrs:{options:t.roles,required:""},model:{value:t.data.idTwo,callback:function(e){t.$set(t.data,"idTwo",e)},expression:"data.idTwo"}})],1)])])],1)],1)])}),i=[],c={name:"RolesRegister",props:{id:{type:String,default:null}},data:function(){return{show:!1,data:{idTwo:null,idOne:null},roles:[]}},methods:{exit:function(){this.show=!1},addRol:function(){this.listRols(),this.data={idTwo:null,idOne:parseInt(this.id)},this.show=!0},listRols:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/person/"+t.id+"/role-register?id=",{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){t.roles=e.data})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},saveAddItem:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/person/"+t.id+"/role-register?id="+t.data.idTwo,{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){t.show=!1,t.$message.success(e.data.content),t.$parent.initialize()})).catch((function(e){console.log(e),t.show=!1,t.$message.error("Error. Seleccione rol valido.")}));case 2:case"end":return e.stop()}}),e)})))()}}},l=c,u=(n("c887"),n("2877")),d=Object(u["a"])(l,s,i,!1,null,null,null),f=d.exports,h={components:{UserRolesRegister:f},props:{id:{type:String,default:null}},data:function(){return{dataDelete:"",showDelete:!1,personName:"",data:{id:-1,name:"",lastnameFather:"",lastnameMother:"",dateRegister:""},fields:[{key:"roleName",label:"Nombre"},{key:"relationState",label:"Estado"},{key:"actions",label:"Acciones"}],desserts:[]}},created:function(){this.initialize()},methods:{returnData:function(t){if("A"===t)return"Activo"},returnColor:function(t){if("A"===t)return"success"},exitDelete:function(){this.showDelete=!1,this.data.name=""},modalDelete:function(t){this.showDelete=!0,this.dataDelete=t,this.data.name=t.roleName},toUsers:function(){this.$router.push("/person")},initialize:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("/person/"+t.id+"/role",{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){t.personName=e.data.name;var n=[];for(var r in e.data.roles)n.push(e.data.roles[r]);t.desserts=n})).catch((function(e){t.$errorQuery(e)}));case 2:case"end":return e.stop()}}),e)})))()},deleteItem:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.showDelete=!1,!(""!=t&null!=e.id)){n.next=11;break}return n.prev=2,n.next=5,e.$axios.get("/person/"+e.id+"/role-delete?id="+t.roleId,{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(t){e.$message.success(t.data.content),e.initialize()}));case 5:n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](2),e.$message.error("Error!"),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[2,7]])})))()}}},b=h,m=(n("7b59"),Object(u["a"])(b,r,o,!1,null,null,null));e["default"]=m.exports},"767c":function(t,e,n){},"7b59":function(t,e,n){"use strict";n("1127")},b0c0:function(t,e,n){var r=n("83ab"),o=n("5e77").EXISTS,a=n("e330"),s=n("9bf2").f,i=Function.prototype,c=a(i.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=a(l.exec),d="name";r&&!o&&s(i,d,{configurable:!0,get:function(){try{return u(l,c(this))[1]}catch(t){return""}}})},c887:function(t,e,n){"use strict";n("767c")}}]);
//# sourceMappingURL=chunk-1e9c5268.bf358c57.js.map